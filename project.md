# J-Quants APIを使った割安優良株を取得する

## 概要
J-Quants APIを活用して、実績があるにも関わらず評価額が低い企業（割安優良株）を特定する方法について説明します。

## J-Quants APIについて
- JPX総研が提供する個人投資家向けの金融データAPI
- 株価データや企業財務情報をAPI経由で取得可能
- データサイエンスを活用した取引分析をサポート

## 分析のアプローチ

### 目標
**「実績はあるが評価額が低い会社」の特定**
- 業績が良好で財務状況が安定している
- 市場での評価（株価）が相対的に低い
- 将来的な株価上昇の可能性がある企業

## 必要なデータと取得API

### 1. 財務データの取得
**API エンドポイント**: `/statements`

**取得する財務指標**:
- 売上高（営業収益）
- 営業利益
- 当期純利益
- 自己資本
- 総資産
- 自己資本比率

### 2. 株価・時価総額データの取得
**API エンドポイント**: 
- `/prices_daily_quotes` - 日次株価データ
- `/fins/statements` - 発行済み株式数

**計算項目**:
- 時価総額 = 現在株価 × 発行済み株式数

### 3. 企業基本情報
**API エンドポイント**: `/listed/info`
- 上場企業リスト
- 業種分類
- 基本的な企業情報

## スクリーニング条件

### 実績の良さを判断する指標

| 指標 | 基準値 | 説明 |
|------|--------|------|
| ROE（自己資本利益率） | > 10% | 株主資本に対する収益性 |
| 売上高成長率 | > 0% | 直近3年平均の成長性 |
| 営業利益率 | > 5% | 本業での収益性 |
| 自己資本比率 | > 30% | 財務の安定性 |

### 評価額の低さを判断する指標

| 指標 | 基準値 | 説明 |
|------|--------|------|
| PER（株価収益率） | < 15倍 | 利益に対する株価の割安さ |
| PBR（株価純資産倍率） | < 1.5倍 | 純資産に対する株価の割安さ |
| 時価総額 | 業界平均以下 | 同業他社との相対比較 |

## 実装手順

### Step 1: データ取得
1. J-Quants APIの認証トークン取得
2. 上場企業リストの取得 (`/listed/info`)
3. 各企業の財務データ取得 (`/statements`)
4. 最新の株価データ取得 (`/prices_daily_quotes`)

### Step 2: 指標計算
- ROE = 当期純利益 / 自己資本
- ROA = 当期純利益 / 総資産
- 営業利益率 = 営業利益 / 売上高
- PER = 株価 / 1株当たり純利益
- PBR = 株価 / 1株当たり純資産

### Step 3: スクリーニング実行
**実績の良さ条件**:
- ROE > 10%
- 営業利益率 > 5%
- 自己資本比率 > 30%

**評価の低さ条件**:
- PER < 15倍
- PBR < 1.5倍

### Step 4: 結果の分析
- ROEの高い順に並び替え
- PERの低い順に並び替え
- 業種別の分析
- 候補企業リストの出力

